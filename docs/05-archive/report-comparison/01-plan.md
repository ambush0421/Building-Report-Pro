# Report Comparison System Plan Document

> Version: 1.0.0 | Created: 2026-02-14 | Status: Draft

## 1. Executive Summary
투자자는 여러 후보지를 동시에 검토하는 경우가 많습니다. '보고서 비교 분석 기능'은 사용자가 분석한 개별 리포트들의 핵심 금융 지표를 단일 화면에서 대조할 수 있게 함으로써, 데이터 기반의 합리적인 최종 의사결정을 지원합니다.

## 2. Goals and Objectives
- **의사결정 지원**: 서로 다른 매물의 수익률 및 안정성 지표를 직접 비교.
- **편의성 극대화**: 각 리포트를 일일이 열어볼 필요 없이 주요 지표만 추출하여 시각화.
- **다각도 분석**: 수익성(Yield), 안전성(DSCR), 입지(Traffic) 등 카테고리별 비교 제공.

## 3. Scope
### In Scope
- **멀티 셀렉트 UI**: 대시보드 리스트에서 비교할 보고서를 여러 개 선택하는 기능.
- **비교 대시보드**: 선택된 보고서들의 Cap Rate, LTV, NOI, 평당가 등을 나란히 배치한 테이블.
- **상대적 우위 표시**: 각 지표별로 가장 우수한 보고서에 하이라이트(Best) 표시.
- **공유용 비교표**: 비교 화면을 인쇄하거나 캡처하기 좋은 정돈된 레이아웃 제공.

### Out of Scope
- **가중치 부여**: 사용자 임의 가중치에 따른 종합 점수 산출은 추후 고도화 과제로 분리.
- **외부 데이터 비교**: 저장되지 않은 외부 매물과의 직접 비교는 제외.

## 4. Success Criteria
| Criterion | Metric | Target |
|-----------|--------|--------|
| 정보 정확성 | 원본 보고서와 비교표 데이터 일치 여부 | 100% 일치 |
| 동시 비교 수 | 한 화면에 담을 수 있는 최대 보고서 수 | 최소 3개 이상 |
| 시인성 | 지표별 우위 판단의 용이성 | 직관적인 하이라이트 적용 |

## 5. Technical Strategy
- **Frontend**: React 19의 유연한 상태 관리를 활용한 동적 비교 테이블.
- **Data Fetching**: Supabase에서 선택된 ID들의 `analysis_data`를 한 번에 fetch.
- **UI**: shadcn/ui의 Table 및 Badge 컴포넌트를 활용한 정제된 디자인.

## 6. Risks
| Risk | Impact | Mitigation |
|------|--------|------------|
| 데이터 누락 | Medium | 저장 시점의 데이터 스키마가 다른 경우에 대한 예외 처리(N/A 표시) |
| 레이아웃 깨짐 | Low | 가로 스크롤 또는 보고서 개수에 따른 반응형 컬럼 폭 조정 |
