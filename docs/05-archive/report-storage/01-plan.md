# Report Storage System Plan Document

> Version: 1.0.0 | Created: 2026-02-14 | Status: Draft

## 1. Executive Summary
사용자가 분석한 부동산 보고서 데이터를 개인 계정에 저장하고, 언제 어디서든 다시 확인하거나 수정할 수 있는 환경을 제공합니다. 이는 서비스의 재방문율을 높이고, 전문가용 분석 도구로서의 가치를 완성하는 핵심 기능입니다.

## 2. Goals and Objectives
- **영속성 확보**: 브라우저를 닫아도 분석 데이터가 유실되지 않도록 서버(Supabase)에 저장.
- **관리 편의성**: 저장된 보고서 리스트 제공 및 삭제/수정 기능 구현.
- **데이터 일관성**: 20개 섹션의 모든 금융 편집 데이터와 선택된 호실 정보를 완벽히 보존.

## 3. Scope
### In Scope
- **Supabase 연동**: 익명/소셜 로그인을 통한 사용자 식별 및 DB 연동.
- **저장 인터페이스**: 분석 완료 후 '내 계정에 저장' 버튼 및 저장 상태 표시.
- **마이페이지(대시보드)**: 저장된 보고서 목록 보기, 검색, 상세 페이지 이동.
- **상태 복구**: 저장된 데이터를 불러와 `buildingStore` 및 `roomStore` 상태에 다시 주입.

### Out of Scope
- **협업 기능**: 보고서 공유 및 공동 편집 기능은 추후 확장으로 분리.
- **버전 관리**: 동일 주소에 대한 이력 관리는 제외 (최신 저장본 덮어쓰기 또는 신규 생성 선택).

## 4. Success Criteria
| Criterion | Metric | Target |
|-----------|--------|--------|
| 데이터 무결성 | 저장 후 불러오기 시 모든 지표 일치 여부 | 100% 일치 |
| 사용성 | 저장 과정의 소요 시간 | 1초 이내 |
| 접근성 | 모바일/데스크톱 목록 동기화 확인 | 정상 동작 |

## 5. Technical Strategy
- **Backend**: Supabase Auth & PostgreSQL 활용.
- **Data Structure**: `reports` 테이블에 JSONB 타입으로 스토어의 전체 state 스냅샷 저장.
- **Auth**: 간단한 Google 소셜 로그인 우선 도입.

## 6. Risks
| Risk | Impact | Mitigation |
|------|--------|------------|
| 데이터 스키마 변경 | Medium | 데이터 버전 필드 추가 및 마이그레이션 유틸리티 작성 |
| 스토리지 제한 | Low | JSON 압축 저장 및 불필요한 이미지 데이터 배제 |
